TODO:
1. Increase test coverage
  - more utils test
  - test more AI states